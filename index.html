<!DOCTYPE html>
<html lang="vi">
<head>
<meta charset="UTF-8">
<title>Merry Christmas Nguy·ªÖn Ph·∫°m L√¢m Vy ‚ú®</title>
<meta name="viewport" content="width=device-width, initial-scale=1.0">

<!-- =====================================================
     FONT
===================================================== -->
<link href="https://fonts.googleapis.com/css2?family=Playfair+Display:wght@500;600&family=Poppins:wght@300;400;500&display=swap" rel="stylesheet">

<style>
/* =====================================================
   RESET + ROOT
===================================================== */
:root {
    --red: #c1121f;
    --gold: #ffb703;
    --green: #1b4332;
    --bg1: #020617;
    --bg2: #0b1d35;
}

* {
    margin: 0;
    padding: 0;
    box-sizing: border-box;
}

html, body {
    width: 100%;
    height: 100%;
    overflow: hidden;
    background: radial-gradient(circle at top, var(--bg2), var(--bg1));
    font-family: 'Poppins', sans-serif;
    color: #fff;
}

/* =====================================================
   CANVAS
===================================================== */
canvas {
    position: absolute;
    inset: 0;
}

/* =====================================================
   UI LAYER
===================================================== */
.ui {
    position: absolute;
    inset: 0;
    z-index: 10;
    pointer-events: none;
}

/* =====================================================
   TITLE
===================================================== */
.title {
    position: absolute;
    top: 40px;
    width: 100%;
    text-align: center;
    font-family: 'Playfair Display', serif;
    font-size: 36px;
    letter-spacing: 2px;
    opacity: 0;
    animation: fadeIn 2s ease forwards 1s;
}

@keyframes fadeIn {
    to { opacity: 1; }
}

/* =====================================================
   GIFT BOX
===================================================== */
.gift {
    position: absolute;
    bottom: 90px;
    left: 50%;
    transform: translateX(-50%);
    width: 160px;
    height: 160px;
    background: linear-gradient(180deg, #c1121f, #780000);
    border-radius: 14px;
    box-shadow: 0 30px 80px rgba(0,0,0,0.7);
    cursor: pointer;
    pointer-events: auto;
    transition: transform .6s;
}

.gift:hover {
    transform: translateX(-50%) scale(1.08);
}

.ribbon-v {
    position: absolute;
    width: 22px;
    height: 100%;
    background: linear-gradient(#ffda79, #ffb703);
    left: 50%;
    transform: translateX(-50%);
}

.ribbon-h {
    position: absolute;
    height: 22px;
    width: 100%;
    background: linear-gradient(#ffda79, #ffb703);
    top: 50%;
    transform: translateY(-50%);
}

.lid {
    position: absolute;
    top: -32px;
    width: 100%;
    height: 38px;
    background: linear-gradient(#d62828, #9b2226);
    border-radius: 14px;
    transition: transform 1.2s ease;
}

.gift.open .lid {
    transform: translateY(-110px) rotate(-18deg);
}

/* =====================================================
   HINT
===================================================== */
.hint {
    position: absolute;
    bottom: 45px;
    width: 100%;
    text-align: center;
    font-size: 14px;
    opacity: .85;
    animation: blink 1.5s infinite alternate;
}

@keyframes blink {
    from { opacity: .4; }
    to { opacity: 1; }
}

/* =====================================================
   CARD
===================================================== */
.card {
    position: absolute;
    bottom: -100%;
    left: 50%;
    transform: translateX(-50%);
    width: 480px;
    padding: 34px;
    background: linear-gradient(145deg, #ffffff, #f3f3f3);
    color: #333;
    border-radius: 24px;
    box-shadow: 0 40px 100px rgba(0,0,0,.7);
    text-align: center;
    transition: bottom 1.8s cubic-bezier(.19,1,.22,1);
}

.card.show {
    bottom: 70px;
}

.card h2 {
    font-family: 'Playfair Display', serif;
    font-size: 28px;
    color: var(--red);
    margin-bottom: 16px;
}

.card h3 {
    font-size: 18px;
    margin-bottom: 14px;
    color: #444;
}

.card p {
    font-size: 16px;
    line-height: 1.7;
    min-height: 180px;
}

.glow {
    text-shadow:
        0 0 6px #fff,
        0 0 12px var(--gold),
        0 0 22px var(--gold);
}

/* =====================================================
   FOOTER
===================================================== */
.footer {
    position: absolute;
    bottom: 12px;
    width: 100%;
    text-align: center;
    font-size: 12px;
    opacity: .6;
}
</style>
</head>

<body>

<canvas id="canvas"></canvas>

<div class="ui">
    <div class="title glow">Merry Christmas ‚ú®</div>

    <div class="gift" id="gift">
        <div class="lid"></div>
        <div class="ribbon-v"></div>
        <div class="ribbon-h"></div>
    </div>

    <div class="hint">üéÅ Ch·∫°m v√†o h·ªôp qu√† ƒë·ªÉ m·ªü</div>

    <div class="card" id="card">
        <h2 class="glow">G·ª≠i Nguy·ªÖn Ph·∫°m L√¢m Vy üéÑ</h2>
        <h3>M·ªôt l·ªùi ch√∫c nh·ªè trong m√πa ƒë√¥ng</h3>
        <p id="text"></p>
    </div>

    <div class="footer">Made with ‚ùÑÔ∏è & sincerity</div>
</div>

<audio id="music" loop>
    <source src="https://cdn.pixabay.com/audio/2022/11/22/audio_3a7c0ef7a7.mp3">
</audio>

<script>
/* =====================================================
   CANVAS SETUP
===================================================== */
const canvas = document.getElementById('canvas');
const ctx = canvas.getContext('2d');

function resize() {
    canvas.width = window.innerWidth;
    canvas.height = window.innerHeight;
}
resize();
window.addEventListener('resize', resize);

/* =====================================================
   SNOW SYSTEM (MULTI LAYER)
===================================================== */
class Snow {
    constructor(depth=1) {
        this.depth = depth;
        this.reset();
    }
    reset() {
        this.x = Math.random() * canvas.width;
        this.y = Math.random() * -canvas.height;
        this.size = (Math.random() * 2 + 1) * this.depth;
        this.speed = (Math.random() * 0.6 + 0.4) * this.depth;
        this.wind = Math.random() * 0.3 - 0.15;
        this.alpha = Math.random() * 0.6 + 0.4;
    }
    update() {
        this.y += this.speed;
        this.x += this.wind;
        if (this.y > canvas.height) this.reset();
    }
    draw() {
        ctx.fillStyle = `rgba(255,255,255,${this.alpha})`;
        ctx.beginPath();
        ctx.arc(this.x, this.y, this.size, 0, Math.PI*2);
        ctx.fill();
    }
}

const snowflakes = [];
for (let i = 0; i < 450; i++) snowflakes.push(new Snow(Math.random()*1.5+0.5));

/* =====================================================
   TREE DRAW (HAND DRAW STYLE)
===================================================== */
let treeStep = 0;

function drawTree() {
    const cx = canvas.width / 2;
    const baseY = canvas.height - 160;

    ctx.save();

    // trunk
    ctx.strokeStyle = '#5a3e2b';
    ctx.lineWidth = 8;
    ctx.beginPath();
    ctx.moveTo(cx, baseY);
    ctx.lineTo(cx, baseY - treeStep*3);
    ctx.stroke();

    // branches
    for (let i = 0; i < treeStep; i++) {
        ctx.strokeStyle = `hsl(${i*6},70%,45%)`;
        ctx.lineWidth = 3;
        ctx.beginPath();
        ctx.moveTo(cx - i*3, baseY - i*3);
        ctx.lineTo(cx + i*3, baseY - i*3);
        ctx.stroke();
    }

    // star
    if (treeStep > 60) {
        ctx.fillStyle = '#ffd60a';
        ctx.beginPath();
        ctx.arc(cx, baseY - treeStep*3 - 10, 6, 0, Math.PI*2);
        ctx.fill();
    }

    ctx.restore();

    if (treeStep < 75) treeStep++;
}

/* =====================================================
   SANTA + REINDEER
===================================================== */
let santaX = -400;

function drawSanta() {
    santaX += 1.2;
    const y = 120;

    ctx.save();

    // sleigh
    ctx.fillStyle = '#e63946';
    ctx.fillRect(santaX, y, 120, 30);

    // santa head
    ctx.fillStyle = '#fff';
    ctx.beginPath();
    ctx.arc(santaX+100, y-5, 12, 0, Math.PI*2);
    ctx.fill();

    // reindeer
    ctx.strokeStyle = '#8d5524';
    ctx.lineWidth = 4;
    ctx.beginPath();
    ctx.moveTo(santaX-40, y+15);
    ctx.lineTo(santaX, y+15);
    ctx.stroke();

    ctx.restore();

    if (santaX > canvas.width + 400) santaX = -400;
}

/* =====================================================
   MAIN LOOP
===================================================== */
function animate() {
    ctx.clearRect(0,0,canvas.width,canvas.height);

    snowflakes.forEach(s => {
        s.update();
        s.draw();
    });

    drawTree();
    drawSanta();

    requestAnimationFrame(animate);
}
animate();

/* =====================================================
   TYPEWRITER MESSAGE
===================================================== */
const message = 
`Nguy·ªÖn Ph·∫°m L√¢m Vy √† ‚ú®

Gi·ªØa m√πa ƒë√¥ng l·∫°nh,
anh mong r·∫±ng em lu√¥n c·∫£m th·∫•y ·∫•m √°p
kh√¥ng ch·ªâ b·ªüi th·ªùi ti·∫øt
m√† c√≤n b·ªüi nh·ªØng ƒëi·ªÅu nh·ªè b√© xung quanh üéÑ

Ch√∫c em m·ªôt Gi√°ng Sinh th·∫≠t an y√™n,
lu√¥n m·ªâm c∆∞·ªùi th·∫≠t xinh
v√† g·∫∑p th·∫≠t nhi·ªÅu ƒëi·ªÅu d·ªãu d√†ng ‚ùÑÔ∏è

Hy v·ªçng trong m√πa Noel n√†y,
anh c√≥ th·ªÉ l√† m·ªôt ph·∫ßn
trong nh·ªØng kho·∫£nh kh·∫Øc vui c·ªßa em üíù`;

let index = 0;
function typeText() {
    if (index < message.length) {
        document.getElementById('text').innerHTML += message.charAt(index);
        index++;
        setTimeout(typeText, 42);
    }
}

/* =====================================================
   GIFT EVENT
===================================================== */
const gift = document.getElementById('gift');
const card = document.getElementById('card');
const music = document.getElementById('music');

gift.addEventListener('click', () => {
    gift.classList.add('open');
    gift.style.pointerEvents = 'none';
    document.querySelector('.hint').style.display = 'none';

    music.play();

    setTimeout(() => {
        card.classList.add('show');
        typeText();
    }, 1400);
});
</script>

</body>
</html>
